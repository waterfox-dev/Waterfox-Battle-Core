<!DOCTYPE html>
<html>

<head>
    <title>Waterfox Battle Core</title>
    <link href="{{url_for('static', filename = 'styles/battle.css')}}" rel="stylesheet">
    <script>
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="{{url_for('static', filename = 'scripts/opponent.js')}}"></script> 
    <script src="{{url_for('static', filename = 'scripts/audio.js')}}"></script>
    <script src="{{url_for('static', filename = 'scripts/life.js')}}"></script>
    <script src="{{url_for('static', filename = 'scripts/attacks.js')}}"></script>
    <script src="{{url_for('static', filename = 'scripts/text.js')}}"></script>
    <script>
        function hidePopup()
        {
            document.getElementById('titlePopup').style.visibility = "hidden";
            launchTheme('testOpponent')
        }
    </script>
</head>

<body>
    <div class="titlePopup" id = "titlePopup">
        <h1>Battle against Test Opponent</h1>
        <button onclick="hidePopup()">Let's Go</button>
    </div>
    <div class="battleScreen">
        <p class="opponentName">Test Opponent</p>
        <div class="opponentLifebar" id="opponentLifebar">
            <p></p>
        </div>
        <div class="opponentPlace">
            <img class="opponentImage" src="{{url_for('static', filename = 'images/testOpponent.png')}}">
        </div>
        <div class="actionDiv">
            <div class="actionDescription">
                <p id="actionDescription"></p>
            </div>
            <div class="actionSelection">
                <button onclick="displayAttacks(currentPlayer, currentOpponent)">Attacks</button><button onclick="displayActions(currentPlayer)">Actions</button>
            </div>
        </div>
        <div class="playerLifebar" id="playerLifebar">
            <p></p>
        </div>  
        <script>
            var currentPlayer;
            var currentOpponent;
            
            $.getJSON('../static/data/opponent/testOpponent.json',
                function (json) {
                    currentOpponent = json;
                });
            $.getJSON('../static/data/player/testPlayer.json',
                function (json) {
                    currentPlayer = json;
                })         
        </script>
    </div>
</body>

</html>